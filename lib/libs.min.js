!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("signalR")):"function"==typeof define&&define.amd?define("libs",["signalR"],e):"object"==typeof exports?exports.libs=e(require("signalR")):t.libs=e(t.signalR)}(window,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.util={UpdateBalance:function(t,e){e>-1&&(2==t?$("#divHeader .money-2 .text").text(this.ParseMoney(e)):$("#divHeader .money-1 .text").text(this.ParseMoney(e)))},IncreaseBalance:function(t,e){if(t&&0!=t){var n=this.unParseMoney($("#divHeader .money-1 .text").text());n+=t,$("#divHeader .money-1 .text").text(this.ParseMoney(n))}if(e&&0!=e){var i=this.unParseMoney($("#divHeader .money-2 .text").text());i+=e,$("#divHeader .money-2 .text").text(this.ParseMoney(i))}},RandomFrom:function(t,e,n){return n?Math.random()*(e-t+1)+t:Math.floor(Math.random()*(e-t+1)+t)},NumberToString:function(t,e){return(t+="").length>=e?t:new Array(e-t.length+1).join("0")+t},ParseMoney:function(t,e){var n=".";return e&&(n=e),null==t?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)},unParseMoney:function(t){if(null==t||null==t)return 0;for(;t.indexOf(".")>=0;)t=t.replace(".","");return parseInt(t)},ConvertMoney:function(t,e,n){var i=null;return i=t<1e3?t:t<1e6||e&&1===e?((i=n?this.ParseMoney(t/1e3).substr(0,t>1e7?4:3):this.ParseMoney(Math.floor(t/1e3))).endsWith(".")?i.substr(0,i.length-1):i)+"K":((i=n?this.ParseMoney(t/1e6).substr(0,t>1e7?4:3):this.ParseMoney(t/1e6)).endsWith(".")?i.substr(0,i.length-1):i)+"M"},MoneyHelper:function(t){if(null==t||null==t)return 0;var e=parseFloat(t);return e<1e3?e:e<1e6?e%1e3>0?(e/1e3).toFixed(1)+"K":e/1e3+"K":e<1e9?e%1e6>1e4?(e/1e6).toFixed(2)+"M":e/1e6+"M":e%1e9>1e6?(e/1e9).toFixed(4)+"B":e/1e9+"B"},NumberToImage:function(t){var e="",n=t.split("");for(var i in n)n.hasOwnProperty(i)&&(e+="."===n[i]?'<i class="dot"></i> ':'<i class="n'+n[i]+'"></i>');return e},CountUp:function(t,n,i,o,a,r,s,u){var c=this,h=this;if(h.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:function(t,e,n,i){return n*(1-Math.pow(2,-10*t/i))*1024/1023+e},formattingFn:e.util.ParseMoney,prefix:"",suffix:"",numerals:[]},u&&"object"==typeof u)for(var l in h.options)u.hasOwnProperty(l)&&null!==u[l]&&(h.options[l]=u[l]);""===h.options.separator?h.options.useGrouping=!1:h.options.separator=""+h.options.separator;for(var d=0,p=["webkit","moz","ms","o"],f=0;f<p.length&&!window.requestAnimationFrame;++f)window.requestAnimationFrame=window[p[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[p[f]+"CancelAnimationFrame"]||window[p[f]+"CancelRequestAnimationFrame"];function m(t){return"number"==typeof t&&!isNaN(t)}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-d)),i=window.setTimeout((function(){t(e+n)}),n);return d=e+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),h.initialize=function(){return!!c.initialized||(c.error="",c.d=n?t:"string"==typeof t?document.getElementById(t):t,c.d?(c.startVal=Number(o),c.endVal=Number(a),m(c.startVal)&&m(c.endVal)?(c.decimals=Math.max(0,r||0),c.dec=Math.pow(10,c.decimals),c.duration=1e3*Number(s)||2e3,c.countDown=c.startVal>c.endVal,c.frameVal=c.startVal,c.initialized=!0,!0):(c.error="[CountUp] startVal ("+o+") or endVal ("+a+") is not a number",!1)):(c.error="[CountUp] target is null or undefined",!1))},h.printValue=function(t){var o=h.options.formattingFn(t);n?h.d.text=o:"INPUT"===h.d.tagName?this.d.value=o:"text"===h.d.tagName||"tspan"===h.d.tagName?this.d.textContent=o:h.d.innerHTML=i?e.util.NumberToImage(o):o},h.count=function(t){c.startTime||(c.startTime=t),c.timestamp=t;var e=t-c.startTime;c.remaining=c.duration-e,c.options.useEasing?c.countDown?c.frameVal=c.startVal-c.options.easingFn(e,0,c.startVal-c.endVal,c.duration):c.frameVal=c.options.easingFn(e,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.frameVal=c.startVal-(c.startVal-c.endVal)*(e/c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(e/c.duration),c.countDown?c.frameVal=c.frameVal<c.endVal?c.endVal:c.frameVal:c.frameVal=c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),e<c.duration?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},h.start=function(t){c.initialize()&&(c.callback=t,c.rAF=requestAnimationFrame(c.count))},h.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},h.reset=function(){c.paused=!1,delete c.startTime,c.initialized=!1,c.initialize()&&(cancelAnimationFrame(c.rAF),c.printValue(c.startVal))},h.update=function(t){c.initialize()&&(m(t=Number(t))?(c.error="",t!==c.frameVal&&(cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=t,c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count))):c.error="[CountUp] update() - new endVal is not a number: "+t)},h.initialize()&&h.printValue(h.startVal)},IsMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},IsHttps:function(){var t=!1;return"https:"===location.protocol&&(t=!0),t},IsOrientation:function(){return 0===(screen.orientation?Math.abs(screen.orientation.angle):Math.abs(window.orientation))},LoadCss:function(t){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,document.head.appendChild(e)},UnloadCSS:function(t){var e=document.head;if(e){var n=e.querySelector('[href="'+t+'"]');n&&n.remove()}},CheckCss:function(t){for(var e=!1,n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].href&&document.styleSheets[n].href.indexOf(t)>=0){e=!0;break}return e},ClearTimeOut:function(t){t&&(clearTimeout(t),t=null)},ClearTimeInterval:function(t){t&&(clearInterval(t),t=null)},DegreeToRadian:function(t){return t*Math.PI/180},ReplaceMoney:function(t){if(void 0!==t){for(;t.indexOf("[money[0]]")>=0;)t=t.replace("[money[0]]",Config.MoneyText[0]);for(;t.indexOf("[money[1]]")>=0;)t=t.replace("[money[1]]",Config.MoneyText[1]);for(;t.indexOf("[portalname]")>=0;)t=t.replace("[portalname]",Config.PortalName);for(;t.indexOf("[portalhost]")>=0;)t=t.replace("[portalhost]",Config.PortalHost)}return t},getUserAgent:function(){return navigator.userAgent},getBrowser:function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""):"Chrome"===n[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n.join(" "))},getOs:function(){var t="Unknown OS";return-1!=navigator.appVersion.indexOf("Win")&&(t="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(t="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(t="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(t="Linux"),t},getSessionStorage:function(t){return sessionStorage.getItem(t)},setSessionStorage:function(t,e){sessionStorage.setItem(t,e)},getNameSetStyle:function(t){var e,n=/^\[\w+\]/g,i=t.match(n);return null!==i&&i.length>0&&(e=i[0].replace("[","").replace("]","")),e?t.replace(n,'<span class="portal-pre portal-'+e.toLowerCase()+'">$&</span>'):t},formatTime:function(t,e){var n=parseInt(t),i=Math.floor(n/3600),o=Math.floor((n-3600*i)/60),a=n-(3600*i+60*o);return i<10&&(i="0"+i),o<10&&(o="0"+o),a<10&&(a="0"+a),1===e?i+":"+o:2===e?a:i>0?i+":"+o+":"+a:o+":"+a},formDateTimehms:function(t,e){void 0===e&&(e=0);var n=t;"string"==typeof t&&(n=new Date(t));var i=n.getDate(),o=n.getMonth()+1,a=n.getFullYear(),r=n.getHours(),s=n.getMinutes(),u=n.getSeconds();return i<10&&(i="0"+i),o<10&&(o="0"+o),r<10&&(r="0"+r),s<10&&(s="0"+s),u<10&&(u="0"+u),2==e?r+":"+s+":"+u:5==e?r+":"+s:1==e?i+"/"+o+"/"+a:3==e?a+"/"+o+"/"+i+" "+r+":"+s+":"+u:4==e?a+"/"+o+"/"+i:i+"/"+o+"/"+a+" "+r+":"+s+":"+u},FetchData:function(t,e,n,i,o){try{"function"==typeof n&&("function"==typeof i&&(o=i),i=n),$.ajax({type:t,url:e,data:n,contentType:"application/json; charset=utf-8",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(t){"function"==typeof i&&i(t)},error:function(t,e,n){200===t.status?"function"==typeof i&&i(t.responseText):"function"==typeof o&&o(t)}})}catch(t){console.error(t)}},PostData:function(t,e,n,i){return this.FetchData("POST",t,JSON.stringify(e),n,i)},GetData:function(t,e,n,i){return this.FetchData("GET",t,e,n,i)},dragFix:function(t,e){var n=e.position.left-e.originalPosition.left,i=e.originalPosition.left+n/window.ratioS,o=e.position.top-e.originalPosition.top,a=e.originalPosition.top+o/window.ratioS;e.position.left=i,e.position.top=a},md5:function(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,o,a,r;return o=2147483648&t,a=2147483648&e,r=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(i=1073741824&e)?2147483648^r^o^a:n|i?1073741824&r?3221225472^r^o^a:1073741824^r^o^a:r^o^a}function i(t,i,o,a,r,s,u){return t=n(t,n(n(function(t,e,n){return t&e|~t&n}(i,o,a),r),u)),n(e(t,s),i)}function o(t,i,o,a,r,s,u){return t=n(t,n(n(function(t,e,n){return t&n|e&~n}(i,o,a),r),u)),n(e(t,s),i)}function a(t,i,o,a,r,s,u){return t=n(t,n(n(function(t,e,n){return t^e^n}(i,o,a),r),u)),n(e(t,s),i)}function r(t,i,o,a,r,s,u){return t=n(t,n(n(function(t,e,n){return e^(t|~n)}(i,o,a),r),u)),n(e(t,s),i)}function s(t){var e,n="",i="";for(e=0;e<=3;e++)n+=(i="0"+(t>>>8*e&255).toString(16)).substr(i.length-2,2);return n}var u,c,h,l,d,p,f,m,g,y=Array();for(y=function(t){for(var e,n=t.length,i=n+8,o=16*((i-i%64)/64+1),a=Array(o-1),r=0,s=0;s<n;)r=s%4*8,a[e=(s-s%4)/4]=a[e]|t.charCodeAt(s)<<r,s++;return r=s%4*8,a[e=(s-s%4)/4]=a[e]|128<<r,a[o-2]=n<<3,a[o-1]=n>>>29,a}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}(t)),p=1732584193,f=4023233417,m=2562383102,g=271733878,u=0;u<y.length;u+=16)c=p,h=f,l=m,d=g,p=i(p,f,m,g,y[u+0],7,3614090360),g=i(g,p,f,m,y[u+1],12,3905402710),m=i(m,g,p,f,y[u+2],17,606105819),f=i(f,m,g,p,y[u+3],22,3250441966),p=i(p,f,m,g,y[u+4],7,4118548399),g=i(g,p,f,m,y[u+5],12,1200080426),m=i(m,g,p,f,y[u+6],17,2821735955),f=i(f,m,g,p,y[u+7],22,4249261313),p=i(p,f,m,g,y[u+8],7,1770035416),g=i(g,p,f,m,y[u+9],12,2336552879),m=i(m,g,p,f,y[u+10],17,4294925233),f=i(f,m,g,p,y[u+11],22,2304563134),p=i(p,f,m,g,y[u+12],7,1804603682),g=i(g,p,f,m,y[u+13],12,4254626195),m=i(m,g,p,f,y[u+14],17,2792965006),p=o(p,f=i(f,m,g,p,y[u+15],22,1236535329),m,g,y[u+1],5,4129170786),g=o(g,p,f,m,y[u+6],9,3225465664),m=o(m,g,p,f,y[u+11],14,643717713),f=o(f,m,g,p,y[u+0],20,3921069994),p=o(p,f,m,g,y[u+5],5,3593408605),g=o(g,p,f,m,y[u+10],9,38016083),m=o(m,g,p,f,y[u+15],14,3634488961),f=o(f,m,g,p,y[u+4],20,3889429448),p=o(p,f,m,g,y[u+9],5,568446438),g=o(g,p,f,m,y[u+14],9,3275163606),m=o(m,g,p,f,y[u+3],14,4107603335),f=o(f,m,g,p,y[u+8],20,1163531501),p=o(p,f,m,g,y[u+13],5,2850285829),g=o(g,p,f,m,y[u+2],9,4243563512),m=o(m,g,p,f,y[u+7],14,1735328473),p=a(p,f=o(f,m,g,p,y[u+12],20,2368359562),m,g,y[u+5],4,4294588738),g=a(g,p,f,m,y[u+8],11,2272392833),m=a(m,g,p,f,y[u+11],16,1839030562),f=a(f,m,g,p,y[u+14],23,4259657740),p=a(p,f,m,g,y[u+1],4,2763975236),g=a(g,p,f,m,y[u+4],11,1272893353),m=a(m,g,p,f,y[u+7],16,4139469664),f=a(f,m,g,p,y[u+10],23,3200236656),p=a(p,f,m,g,y[u+13],4,681279174),g=a(g,p,f,m,y[u+0],11,3936430074),m=a(m,g,p,f,y[u+3],16,3572445317),f=a(f,m,g,p,y[u+6],23,76029189),p=a(p,f,m,g,y[u+9],4,3654602809),g=a(g,p,f,m,y[u+12],11,3873151461),m=a(m,g,p,f,y[u+15],16,530742520),p=r(p,f=a(f,m,g,p,y[u+2],23,3299628645),m,g,y[u+0],6,4096336452),g=r(g,p,f,m,y[u+7],10,1126891415),m=r(m,g,p,f,y[u+14],15,2878612391),f=r(f,m,g,p,y[u+5],21,4237533241),p=r(p,f,m,g,y[u+12],6,1700485571),g=r(g,p,f,m,y[u+3],10,2399980690),m=r(m,g,p,f,y[u+10],15,4293915773),f=r(f,m,g,p,y[u+1],21,2240044497),p=r(p,f,m,g,y[u+8],6,1873313359),g=r(g,p,f,m,y[u+15],10,4264355552),m=r(m,g,p,f,y[u+6],15,2734768916),f=r(f,m,g,p,y[u+13],21,1309151649),p=r(p,f,m,g,y[u+4],6,4149444226),g=r(g,p,f,m,y[u+11],10,3174756917),m=r(m,g,p,f,y[u+2],15,718787259),f=r(f,m,g,p,y[u+9],21,3951481745),p=n(p,c),f=n(f,h),m=n(m,l),g=n(g,d);return(s(p)+s(f)+s(m)+s(g)).toLowerCase()},setSign:function(t,e,n){return console.log("1"+t+e+n+this.formDateTimehms((new Date).toString(),1)),this.md5("1"+t+e+n+this.formDateTimehms((new Date).toString(),1).replace(/\//g,""))},tracking:function(t,e,n){var i={SigningKey:this.setSign(t,window.App.account.accountID,e),GameID:t,Action:e,Type:n},o=window.Config.TRACKING_API+"Tracking";this.PostData(o,i)}},e.Util=e.util},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){var e=this;this.GetCurrentRooms=function(t,n,i){return e.hub.invoke("GetCurrentRoomsLD",{GameID:t,CurrencyID:n,BetType:i})},this.SetBet=function(t,n,i,o,a){return e.hub.invoke("SetBetLD",{GameID:t,CurrencyID:n,BetType:i,Location:o,Amount:a})},this.GetCurrentResult=function(t){return e.hub.invoke("GetCurrentResultLD",{GameID:t})},this.GetAccountResult=function(t,n,i){return e.hub.invoke("GetAccountResultLD",{GameID:t,CurrencyID:n,GameSessionID:i})},this.HideDice=function(t){return e.hub.invoke("HideLD",{GameID:t})},this.GetJackpot=function(t,n,i){return e.hub.invoke("GetJackpot",t,n,i)},this.Spin=function(t,n,i){return e.hub.invoke("Spin",t,n,i)},this.HideSlot=function(){return e.hub.invoke("HideSlot")},this.GetAccountInfoHiLo=function(t){return e.hub.invoke("GetAccountInfoHiLo",t)},this.SetBetHiLo=function(t,n,i,o,a){return e.hub.invoke("SetBetHiLo",t,n,i,o,a)},this.GetJackpotHiLo=function(t,n,i){return e.hub.invoke("GetJackpotHiLo",t,n,i)},this.HideHiLo=function(){return e.hub.invoke("HideHiLo")},this.ISpin=function(t,n,i,o){return e.hub.invoke("ISpin",t,n,i,o)},this.GetGodJackpot=function(t,n,i){return e.hub.invoke("GetGodJackpot",t,n,i)},this.HideGodSlot=function(){return e.hub.invoke("HideGodSlot")},this.GetCurrentRoomsCF=function(t,n,i){return e.hub.invoke("GetCurrentRoomsCF",t,n,i)},this.GetBetOfAccountCF=function(t,n,i){return e.hub.invoke("GetBetOfAccountCF",t,n,i)},this.SetBetCF=function(t,n,i,o,a){return e.hub.invoke("SetBetCF",t,n,i,o,a)},this.ReBetCF=function(t,n,i,o,a){return e.hub.invoke("ReBetCF",t,n,i,o,a)},this.FinishBetCF=function(t,n,i){return e.hub.invoke("FinishBetCF",t,n,i)},this.ResetCF=function(t,n,i){return e.hub.invoke("ResetCF",t,n,i)},this.GetCurrentResultCF=function(t,n,i){return e.hub.invoke("GetCurrentResultCF",t,n,i)},this.GetAccountResultCF=function(t,n){return e.hub.invoke("GetAccountResultCF",t,n)},this.HideCrabFish=function(){return e.hub.invoke("HideCrabFish")},this.OttEnterMode=function(t,n,i){return e.hub.invoke("OttEnterMode",t,n,i)},this.OttExitMode=function(t,n,i){return e.hub.invoke("OttExitMode",t,n,i)},this.OttJoinRoom=function(t,n,i,o){return e.hub.invoke("OttJoinRoom",t,n,i,o)},this.OttJoinNextArena=function(t,n,i){return e.hub.invoke("OttJoinNextArena",t,n,i)},this.OttLeaveRoom=function(t,n,i,o){return e.hub.invoke("OttLeaveRoom",t,n,i,o)},this.OttPlay=function(t,n,i){return e.hub.invoke("OttPlay",t,n,i)},this.OttChatMessage=function(t,n,i){return e.hub.invoke("OttChatMessage",t,n,i)},this.LWGetJackpot=function(t,n,i){return e.hub.invoke("LWGetJackpot",t,n,i)},this.LWSpin=function(t,n,i){return e.hub.invoke("LWSpin",t,n,i)},this.LWHide=function(){return e.hub.invoke("LWHide")},this.Listen=function(){e.hub.on("currentSessionLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.updateSession&&gameLuckyDice.updateSession(t)})),e.hub.on("currentResultLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.updateResult&&gameLuckyDice.updateResult(t)})),e.hub.on("gameHistoryLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.showGameHistory&&gameLuckyDice.showGameHistory(t)})),e.hub.on("currentRoomsInfoLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.updateRoomInfo&&gameLuckyDice.updateRoomInfo(t)})),e.hub.on("betOfAccountLD",(function(t,e){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.updateBetOfAccount&&gameLuckyDice.updateBetOfAccount(t,e)})),e.hub.on("resultOfAccountLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.resultOfAccount&&gameLuckyDice.resultOfAccount(t)})),e.hub.on("jackpotMiniPoker",(function(t){"undefined"!=typeof gameMiniPoker&&"function"==typeof gameMiniPoker.UpdateJackpot&&gameMiniPoker.UpdateJackpot(t)})),e.hub.on("resultSpinMiniPoker",(function(t){"undefined"!=typeof gameMiniPoker&&"function"==typeof gameMiniPoker.ResultSpin&&gameMiniPoker.ResultSpin(t)})),e.hub.on("resultHiLoAccountInfo",(function(t){"function"==typeof gameHighLow.updateHiLoAccountInfo&&gameHighLow.updateHiLoAccountInfo(t)})),e.hub.on("resultHiLoSetBet",(function(t){"function"==typeof gameHighLow.updateHiLoSetBet&&gameHighLow.updateHiLoSetBet(t)})),e.hub.on("jackpotHiLo",(function(t){"function"==typeof gameHighLow.updateJackpotHiLo&&gameHighLow.updateJackpotHiLo(t)})),e.hub.on("jackpotGod",(function(t){"function"==typeof gameSlotGod.updateJackpot&&gameSlotGod.updateJackpot(t)})),e.hub.on("resultISpin",(function(t){"function"==typeof gameSlotGod.startSpin&&gameSlotGod.startSpin(t)})),e.hub.on("currentSessionCF",(function(t){"undefined"!=typeof gameCrabFish&&"function"==typeof gameCrabFish.updateSession&&gameCrabFish.updateSession(t)})),e.hub.on("currentResultCF",(function(t){"undefined"!=typeof gameCrabFish&&"function"==typeof gameCrabFish.updateResult&&gameCrabFish.updateResult(t)})),e.hub.on("currentRoomsInfoCF",(function(t){"undefined"!=typeof gameCrabFish&&"function"==typeof gameCrabFish.updateRoomInfo&&gameCrabFish.updateRoomInfo(t)})),e.hub.on("betOfAccountCF",(function(t,e){"undefined"!=typeof gameCrabFish&&"function"==typeof gameCrabFish.updateBetOfAccount&&gameCrabFish.updateBetOfAccount(t,e)})),e.hub.on("resultOfAccountCF",(function(t){"undefined"!=typeof gameCrabFish&&"function"==typeof gameCrabFish.resultOfAccount&&gameCrabFish.resultOfAccount(t)})),e.hub.on("extendRoomCF",(function(t){"undefined"!=typeof gameCrabFish&&"function"==typeof gameCrabFish.extendRoom&&gameCrabFish.extendRoom(t)})),e.hub.on("gameHistoryCF",(function(t){"undefined"!=typeof gameCrabFish&&"function"==typeof gameCrabFish.showGameHistory&&gameCrabFish.showGameHistory(t)})),e.hub.on("ottUpdateRooms",(function(t){"undefined"!=typeof OttGame&&"function"==typeof OttGame.UpdateRooms&&OttGame.UpdateRooms(t)})),e.hub.on("ottUpdateArena",(function(t){"undefined"!=typeof OttGame&&"function"==typeof OttGame.UpdateArena&&OttGame.UpdateArena(t)})),e.hub.on("ottUpdateMatch",(function(t){"undefined"!=typeof OttGame&&"function"==typeof OttGame.UpdateMatch&&OttGame.UpdateMatch(t)})),e.hub.on("ottChatMessage",(function(t){"undefined"!=typeof OttGame&&"function"==typeof OttGame.ChatMessage&&OttGame.ChatMessage(t)})),e.hub.on("ottMessage",(function(t){"undefined"!=typeof OttGame&&"function"==typeof OttGame.ShowMessage&&OttGame.ShowMessage(t.Mode,t.Message)})),e.hub.on("jackpotLW",(function(t){"undefined"!=typeof gameLuckyWild&&"function"==typeof gameLuckyWild.UpdateJackpotLW&&gameLuckyWild.UpdateJackpotLW(t)})),e.hub.on("resultLWSpin",(function(t){"undefined"!=typeof gameLuckyWild&&"function"==typeof gameLuckyWild.ResultLWSpin&&gameLuckyWild.ResultLWSpin(t)}))},this.hub=t};e.MiniGameHub=i;var o=function(t){var e=this;this.GetCurrentRooms=function(t,n,i){return e.hub.invoke("GetCurrentRoomsLD",{GameID:t,CurrencyID:n,BetType:i})},this.SetBet=function(t,n,i,o,a){return e.hub.invoke("SetBetLD",{GameID:t,CurrencyID:n,BetType:i,Location:o,Amount:a})},this.GetCurrentResult=function(t){return e.hub.invoke("GetCurrentResultLD",{GameID:t})},this.GetAccountResult=function(t,n,i){return e.hub.invoke("GetAccountResultLD",{GameID:t,CurrencyID:n,GameSessionID:i})},this.HideDice=function(t){return e.hub.invoke("HideLD",{GameID:t})},this.Listen=function(){e.hub.on("currentSessionLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.updateSession&&gameLuckyDice.updateSession(t)})),e.hub.on("currentResultLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.updateResult&&gameLuckyDice.updateResult(t)})),e.hub.on("gameHistoryLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.showGameHistory&&gameLuckyDice.showGameHistory(t)})),e.hub.on("currentRoomsInfoLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.updateRoomInfo&&gameLuckyDice.updateRoomInfo(t)})),e.hub.on("betOfAccountLD",(function(t,e){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.updateBetOfAccount&&gameLuckyDice.updateBetOfAccount(t,e)})),e.hub.on("resultOfAccountLD",(function(t){"undefined"!=typeof gameLuckyDice&&"function"==typeof gameLuckyDice.resultOfAccount&&gameLuckyDice.resultOfAccount(t)}))},this.hub=t};e.MiniHubLuckyDice=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);e.Assets=i.Assets;var o=n(0);e.Util=o.util;var a=n(5);e.Sprite=a.Sprite;var r=n(6);e.Hub=r.Hub;var s=n(7);e.Timer=s.Timer;var u=n(8);e.Player=u.Player;var c=n(9);e.TimerC=c.TimerC;var h=n(10);e.PlayerC=h.PlayerC;var l=n(11);e.FbUtil=l.FbUtil;var d=n(2);e.MiniGameHub=d.MiniGameHub,e.MiniHubLuckyDice=d.MiniHubLuckyDice;var p=n(12);e.MiniGame=p.MiniGame;var f=n(13);e.jack=f.jack},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.loader=new PIXI.loaders.Loader}return t.prototype.add=function(t){for(var e=0;e<t.length;e++)""!==t[e].id?this.loader.add(t[e].id,t[e].src):this.loader.add(t[e].src)},t.prototype.load=function(t,e){this.loader.load(),"function"==typeof t&&this.loader.on("progress",t),"function"==typeof e&&this.loader.on("complete",e)},t.prototype.delete=function(){this.loader.destroy()},t}();e.Assets=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(PIXI.Sprite);e.Sprite=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),a=function(){function t(t,e,n){this.url=t,this.token=e,this.game=n}return t.prototype.Connect=function(t,e){var n=this;this.connection=(new i.HubConnectionBuilder).withUrl(this.url,{accessTokenFactory:function(){return n.token},skipNegotiation:!0,transport:i.HttpTransportType.WebSockets}).build(),this.connection.serverTimeoutInMilliseconds=1e5,this.connection.start().then((function(){console.log("connected"),n.Listen();var i=n;i.game.isJoin||i.EnterLobby(t),"function"==typeof e&&e()})).catch((function(t){return console.error(t)})),this.connection.onclose((function(){console.log("connecition closed");try{n.game.Delete(),App.exitGame()}catch(t){}}))},t.prototype.Listen=function(){var t=this;this.connection.on("joinGame",(function(e,n){console.log(t.game),t.game&&t.game.JoinGame(e,n)})),this.connection.on("playerJoin",(function(e){t.game&&t.game.PlayerJoin(e)})),this.connection.on("updateConnectionStatus",(function(e,n){console.log("updateConnectionStatus",e,n),t.game&&t.game.UpdateConnectionStatus(e,n)})),this.connection.on("updateAccount",(function(t,e,n){console.log("updateAccount",t,e,n)})),this.connection.on("message",(function(e,n){console.log("message",e,n),e.code&&10014===e.code&&App.handleBack(),t.ShowMessage(e,n)})),this.connection.on("playerLeave",(function(e,n){console.log("playerLeave",e,n),t.game&&t.game.PlayerLeave(e,n)})),this.connection.on("playerOtherDevice",(function(e){console.log("playerOtherDevice",e),t.game&&t.game.PlayerOtherDevice(e.r)})),this.connection.on("startGame",(function(e,n){t.game&&t.game.StartGame(e,n)}))},t.prototype.EnterLobby=function(t){this.connection.invoke("EnterLobby",t).then((function(t){console.log("EnterLbby",t)}))},t.prototype.ExitLobby=function(){this.connection.invoke("ExitLobby")},t.prototype.LeaveGame=function(){try{this.connection.invoke("LeaveGame")}catch(t){this.game.PlayerLeave(this.game.currentPlayer.AccountID)}},t.prototype.UnregisterLeaveRoom=function(){try{this.connection.invoke("UnregisterLeaveRoom")}catch(t){this.game.PlayerLeave(this.game.currentPlayer.AccountID)}},t.prototype.PingPong=function(){this.connection.invoke("PingPong")},t.prototype.PlayNow=function(t,e){this.connection.invoke("PlayNow",t,e).then((function(t){console.log("PlayNow",t)}))},t.prototype.JoinRoom=function(t,e){this.connection.invoke("JoinRoom",t,e)},t.prototype.BuyIn=function(t,e,n,i){this.connection.invoke("BuyIn",t,e,n,i)},t.prototype.SendMessage=function(t){this.connection.invoke("SendMessage",{content:t})},t.prototype.StartGame=function(){this.connection.invoke("StartGame")},t.prototype.GetMessage=function(t){return t&&t.code?(11007!=t.code&&11014!=t.code&&11015!=t.code||!t.prms||2!=t.prms.length||(t.prms[0]=o.util.ParseMoney(t.prms[0]),t.prms[1]=1==t.prms[1]||"gold"==t.prms[1].toString().toLowerCase()?Config.MoneyText[1]:0==t.prms[1]||"xu"==t.prms[1].toString().toLowerCase()?Config.MoneyText[0]:t.prms[1],App.handleBack()),Message.GetMessage((-2e3===t.code||-2001===t.code||-2002===t.code||-2003===t.code||-2004===t.code||-2005===t.code?"ca":"me")+t.code,t.prms)):t},t.prototype.ShowMessage=function(t,e){this.game&&this.game.name&&"maubinh"==this.game.name&&10001===t.code||(t=this.GetMessage(t),App.showPopupMessage({content:t,textDone:"ok"}))},t}();e.Hub=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this)||this;return n.lineWidth=4,n.w=90,n.h=90,n.startTime=0,n.totalTime=0,n.elapseTime=0,n.currentTimer=0,n.delayTime=0,n.countTime=0,n.drawLine=function(t,e,n,i){this.timerLine.moveTo(t,e),this.timerLine.lineTo(n,i),this.timerLine.endFill()},n.drawCorner=function(t,e,n,i,o){this.timerLine.arc(t,e,n,i,o,!1)},n.setCounter=function(t,e,n){void 0===t||t<=0||((void 0===e||e<0||e>t)&&(e=t),"function"==typeof n&&(this.callback=n),this.totalTime=t,this.elapseTime=e,this.startTime=(new Date).getTime()-1e3*(t-e),this.currentTimer=(this.totalTime-e)/this.totalTime)},n.startTimer=function(t,e,n){this.clearGraphicsObj(),this.countTime=0,this.setCounter(t,e,n)},n.clearTimer=function(t){try{this.clearGraphicsObj(),this.totalTime=0,this.elapseTime=0,this.currentTimer=0,this.destroy({children:!0}),this.callback&&(this.callback=null,delete this.callback)}catch(t){}},n.tick=function(){if(this.currentTimer>1e3+this.delayTime||this.totalTime<=0)return this.callback&&this.callback(),void this.clearTimer();this.currentTimer=((new Date).getTime()-this.startTime)/this.totalTime,this.drawPercentRect(this.currentTimer)},n.startTime=0,n.totalTime=0,n.elapseTime=0,n.currentTimer=0,n.delayTime=100,n.countTime=0,n.w=84+n.lineWidth,n.h=84+n.lineWidth,n.cornerRadius=n.h/2,n.horizLineLength=n.w-2*n.cornerRadius,n.vertLineLength=n.h-2*n.cornerRadius,e.lineWidth&&e.lineWidth!==n.lineWidth&&(n.lineWidth=e.lineWidth),e.width&&e.width!==n.w&&(n.w=e.width,n.cornerRadius=n.w/2,n.horizLineLength=n.w-2*n.cornerRadius),e.height&&e.height!==n.h&&(n.h=e.height,n.cornerRadius=n.h/2,n.vertLineLength=n.h-2*n.cornerRadius),n.timerLine=new PIXI.Graphics,n.addChild(n.timerLine),n}return o(e,t),e.prototype.clearGraphicsObj=function(){this.timerLine.clear()},e.prototype.rgba2Hex=function(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return e&&4===e.length?"0x"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},e.prototype.drawPercentRect=function(t){if(!(t<=0||t>1e3+this.delayTime)){var e,n,i,o,a,r,s,u,c,h,l=2*this.cornerRadius*Math.PI/4,d=4*l+2*this.horizLineLength+2*this.vertLineLength,p=0+this.horizLineLength-1,f=p+l,m=f+this.vertLineLength,g=m+l,y=g+this.horizLineLength,v=y+l,b=v+this.vertLineLength,C=t/1e3*d,L=0,w=225,k=1;t>=250&&t<500?L=Math.round(t/5)+50:t<=850?(L=Math.round(t/5)+50,w=225-Math.round((t-600)/2)):t>850&&(L=250,w=0,h=this.totalTime>10?2:Math.round((10-this.totalTime)/2)+2,k=Math.floor(t/15)%h==1?1:.5),c="rgba("+L+","+(w=w<0?0:w)+",0,"+k+")",c=this.rgba2Hex(c),this.timerLine.clear(),this.timerLine.lineStyle(this.lineWidth,c,1),h=C-0,(h=Math.min(h,this.horizLineLength))>0&&(e=this.cornerRadius,n=0,i=this.cornerRadius+h,o=0,this.drawLine(e,n,i,o)),h=C-p,(h=Math.min(h,l))>0&&(a=this.cornerRadius+this.horizLineLength,r=this.cornerRadius,s=-Math.PI/2,u=-Math.PI/2+h/l*Math.PI/2,this.drawCorner(a,r,this.cornerRadius,s,u)),h=C-f,(h=Math.min(h,this.vertLineLength))>this.lineWidth&&(e=this.cornerRadius+this.horizLineLength+this.cornerRadius,n=this.cornerRadius,i=this.cornerRadius+this.horizLineLength+this.cornerRadius,o=this.cornerRadius+h,this.drawLine(e,n,i,o)),h=C-m,(h=Math.min(h,l))>0&&(a=this.cornerRadius+this.horizLineLength,r=this.cornerRadius+this.vertLineLength,s=0,u=h/l*Math.PI/2,this.drawCorner(a,r,this.cornerRadius,s,u)),h=C-g,(h=Math.min(h,this.horizLineLength))>this.lineWidth&&(e=this.cornerRadius+this.horizLineLength,n=this.cornerRadius+this.vertLineLength+this.cornerRadius,i=this.cornerRadius+this.horizLineLength-h,o=this.cornerRadius+this.vertLineLength+this.cornerRadius,this.drawLine(e,n,i,o)),h=C-y,(h=Math.min(h,l))>0&&(a=this.cornerRadius,r=this.cornerRadius+this.vertLineLength,s=Math.PI/2,u=Math.PI/2+h/l*Math.PI/2,this.drawCorner(a,r,this.cornerRadius,s,u)),h=C-v,(h=Math.min(h,this.vertLineLength))>this.lineWidth&&(e=0,n=this.cornerRadius+this.vertLineLength,i=0,o=this.cornerRadius+this.vertLineLength-h,this.drawLine(e,n,i,o)),h=C-b,(h=Math.min(h,l))>0&&(a=this.cornerRadius,r=this.cornerRadius,s=Math.PI,u=Math.PI+h/l*Math.PI/2,this.drawCorner(a,r,this.cornerRadius,s,u))}},e}(PIXI.Container);e.Timer=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r=function(t){function e(e){var n=t.call(this)||this;return n.pos=0,n.w=140,n.h=140,n.b=85,n.balance=0,n.pos=e.position,n.player=e.player,n.accountId=e.player.AccountID,n.xy=e.xy,n.game=e.game,e.w&&(n.w=e.w),e.h&&(n.h=e.h),e.b&&(n.b=e.b),n.InitAvatar(),n.InitBox(),n.InitStatus(),n}return o(e,t),e.prototype.InitAvatar=function(){this.player.AccountID;this.avatar=PIXI.Sprite.fromImage("/assets/images/avatar/"+this.player.Account.AvatarID+".png"),this.avatar.anchor.set(.5),this.avatar.width=this.w,this.avatar.height=this.h,this.avatar.interactive=!0,this.avatar.buttonMode=!0,this.avatar.position.set(this.xy[0],this.xy[1]),this.addChild(this.avatar)},e.prototype.InitBox=function(){this.box=new PIXI.Sprite(TextureCache["bg-avatar.png"]),this.box.anchor.set(.5),this.box.position.set(this.avatar.x,this.avatar.y+this.avatar.height/2+this.box.height/2+5),this.addChild(this.avatar,this.box),this.txtUserName=new PIXI.Text(this.player.Account.NickName,{fontFamily:"Arial",fontSize:12,fontWeight:"bold",fill:["white"],padding:10}),this.txtUserName.anchor.set(.5),this.txtUserName.position.set(0,-7),this.txtMoney=new PIXI.Text(a.util.ParseMoney(1===this.game.roomModel.MoneyType?this.player.Account.GoldBalance:this.player.Account.CoinBalance),{fontFamily:"Arial",fontSize:12,fontWeight:"bold",fill:["yellow"],padding:10}),this.txtMoney.anchor.set(.5),this.txtMoney.position.set(0,7),this.box.addChild(this.txtUserName,this.txtMoney)},e.prototype.InitStatus=function(){this.disStatus=new PIXI.Sprite(TextureCache["ic-disconnect.png"]),this.disStatus.anchor.set(.5),this.disStatus.position.set(this.avatar.x-this.avatar.width/2,this.avatar.y-21),this.disStatus.visible=!1,this.leaveStatus=new PIXI.Sprite(TextureCache["ic-quit.png"]),this.leaveStatus.anchor.set(.5),this.leaveStatus.position.set(this.avatar.x-this.avatar.width/2,this.avatar.y+21),this.leaveStatus.visible=!1,this.addChild(this.disStatus,this.leaveStatus)},e.prototype.UpdateBalance=function(t){this.txtMoney.text=a.util.ParseMoney(t)},e}(PIXI.Container);e.Player=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this)||this;return n.startTime=0,n.totalTime=0,n.elapseTime=0,n.currentTimer=0,n.delayTime=0,n.countTime=0,n.angle=0,n.radius=0,n.timerCount=0,n.CreatePoint=function(t,e){return{x:t,y:e}},n.RotateXY=function(t,e,n){var i=Math.PI*n/180,o=Math.cos(i),a=Math.sin(i);return this.CreatePoint(o*t-a*e,a*t+o*e)},n.ComputeMaskPolygon=function(t,e,n,i){for(;i<0;)i+=360;i%=360;var o=this.RotateXY(0,-2*n,i),a=[this.CreatePoint(t,e-2*n),this.CreatePoint(t,e),this.CreatePoint(t+o.x,e+o.y)];return i>270&&a.push(this.CreatePoint(t-2*n,e)),i>180&&a.push(this.CreatePoint(t,e+2*n)),i>90&&a.push(this.CreatePoint(t+2*n,e)),a},n.UpdatePieMask=function(t,e,n,i,o){if(t.clear(),!(o>360)){var a=this.ComputeMaskPolygon(e,n,i,o);t.beginFill(16777215),t.moveTo(a[0].x,a[0].y);for(var r=1;r<a.length;++r)t.lineTo(a[r].x,a[r].y);t.lineTo(a[0].x,a[0].y),t.endFill(),this.pie.mask=this.pieMask}},n.ClearTimer=function(){clearTimeout(this.timer),this.pie.mask=null,this.pieMask.clear(),this.angle=0,this.totalTime=0,this.elapseTime=0,this.currentTimer=0,this.timerCount=-1,this.visible=!1},n.Count=function(t){clearTimeout(t.timer);try{if(t.timerCount--,t.timerCount<0)return;t.txtTimer.text=t.timerCount,t.timer=setTimeout((function(){return t.Count(t)}),1e3)}catch(t){}},n.StartTimer=function(t,e){this.ClearTimer(),this.angle=0,this.countTime=0,this.totalTime=t,this.elapseTime=e,this.timerCount=e,this.startTime=(new Date).getTime()-1e3*(t-e),this.currentTimer=(this.totalTime-e)/this.totalTime,this.Count(this)},n.Tick=function(){this.currentTimer>1e3+this.delayTime||this.totalTime<=0?this.visible=!1:(this.visible=!0,this.currentTimer=((new Date).getTime()-this.startTime)/this.totalTime,this.angle=360*this.currentTimer/1e3,this.UpdatePieMask(this.pieMask,0,0,this.radius,this.angle))},n.startTime=0,n.totalTime=0,n.elapseTime=0,n.currentTimer=0,n.delayTime=0,n.countTime=0,n.angle=0,n.radius=0,n.timerCount=0,n.radius=e.radius,n.cirBg=new Sprite(TextureCache[e.bg]),n.cirBg.scale.set(1.01),n.cirBg.anchor.set(.5),n.pie=new Sprite(TextureCache[e.cir]),n.pie.anchor.set(.5),n.pieMask=new Graphics,n.txtTimer=new PIXI.Text("0",{fontFamily:"Roboto-Bold",fontSize:e.fontSize,fontWeight:"bold",fill:["yellow","white"],padding:10}),n.txtTimer.anchor.set(.5),n.addChild(n.cirBg,n.pie,n.pieMask,n.txtTimer),n}return o(e,t),e}(PIXI.Container);e.TimerC=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r=function(t){function e(e){var n=t.call(this)||this;return n.pos=0,n.w=140,n.h=140,n.b=85,n.balance=0,n.isUnLeave=!1,n.isLeave=!1,n.pos=e.position,n.player=e.player,n.accountId=e.player.AccountId,n.xy=e.xy,n.game=e.game,e.w&&(n.w=e.w),e.h&&(n.h=e.h),e.b&&(n.b=e.b),n.InitAvatar(),n.InitBox(),n.InitStatus(),n}return o(e,t),e.prototype.InitAvatar=function(){var t=null!==this.player.AvatarId?this.player.AvatarId:0;this.avatar=PIXI.Sprite.fromImage("/assets/images/avatar/"+t+".png"),this.avatar.anchor.set(.5),this.avatar.width=this.w,this.avatar.height=this.h,this.avatar.interactive=!0,this.avatar.buttonMode=!0,this.avatar.position.set(this.xy[0],this.xy[1]),this.addChild(this.avatar)},e.prototype.InitBox=function(){this.box=new PIXI.Sprite(void 0!==TextureCache["bg-avatar"]?TextureCache["bg-avatar"]:TextureCache["bg-avatar.png"]),this.box.anchor.set(.5),this.box.position.set(this.avatar.x,this.avatar.y+this.avatar.height/2+this.box.height/2+5),this.addChild(this.avatar,this.box),this.txtUserName=new PIXI.Text(this.player.Nickname,{fontFamily:"Arial",fontSize:12,fontWeight:"bold",fill:["white"],padding:10}),this.txtUserName.anchor.set(.5),this.txtUserName.position.set(0,-7),this.txtMoney=new PIXI.Text(a.util.ParseMoney(this.player.Balance),{fontFamily:"Arial",fontSize:12,fontWeight:"bold",fill:["yellow"],padding:10}),this.txtMoney.anchor.set(.5),this.txtMoney.position.set(0,7),this.box.addChild(this.txtUserName,this.txtMoney)},e.prototype.InitStatus=function(){this.disStatus=new PIXI.Sprite(void 0!==TextureCache["ic-disconnect"]?TextureCache["ic-disconnect"]:TextureCache["ic-disconnect.png"]),this.disStatus.anchor.set(.5),this.disStatus.position.set(this.avatar.x-this.avatar.width/2,this.avatar.y-21),this.disStatus.visible=!1,this.leaveStatus=new PIXI.Sprite(void 0!==TextureCache["ic-quit"]?TextureCache["ic-quit"]:TextureCache["ic-quit.png"]),this.leaveStatus.anchor.set(.5),this.leaveStatus.position.set(this.avatar.x-this.avatar.width/2,this.avatar.y+21),this.leaveStatus.visible=!1,this.addChild(this.disStatus,this.leaveStatus)},e.prototype.UpdateBalance=function(t){this.txtMoney.text=a.util.ParseMoney(t)},e}(PIXI.Container);e.PlayerC=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.FbUtil={login:function(){FB.login((function(t){t.authResponse&&e.FbUtil.onLogin(t.authResponse)}))},onLogin:function(t){console.log("response",t,t.error,t.error_code);var e=Config.OPENID_URL+"externallogincallback";e+="?access_token="+t.accessToken,e+="&error="+(void 0!==t.error?t.error:""),e+="&error_code="+(void 0!==t.error_code?t.error_code:""),fetch(e,{headers:{"Client-DeviceID":window.sessionStorage.getItem("Murmur"),"Client-OperatingSystem":i.util.getOs(),"Client-Browser":i.util.getBrowser(),"Client-UserAgent":i.util.getUserAgent()}}).then((function(t){return t.json()})).then((function(t){t.c>=0?(sessionStorage.setItem("GLOBAL_ACCESSTOKEN",t.m),window.location.reload()):App.showPopupMessage({content:Message.GetMessage("me"+t.c),textDone:"ok"})}))},checkLogin:function(){FB.getLoginStatus((function(t){"connected"==t.status?e.FbUtil.onLogin(t.authResponse):e.FbUtil.login()}))},loadSdk:function(){var t,e,n,o,a;Config.USE_FB_SDK&&i.util.IsHttps()&&(window.fbAsyncInit=function(){FB.init({appId:Config.FB_ID,cookie:!0,xfbml:!0,status:!0,oauth:!0,version:"v3.2"})},t=document,e="script",n="facebook-jssdk",a=t.getElementsByTagName(e)[0],t.getElementById(n)||((o=t.createElement(e)).id=n,o.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a)))},showPopupFb:function(){var t=Message.GetMessage("fb"+Config.FB_MSG_OPTION);t=t.replace("[0]",Config.FB_FANPAGE),App.showPopupMessage({content:t,textDone:"ok"})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),a=n(2);e.MiniGame={hubName:"miniGameHub",hubUrl:null,urlRoot:"/minigame/",apiUrl:null,isBet:!0,currencyId:1,betType:1,roomType:2,rowPerPage:10,isPlaying:!0,gameHub:null,gameHubLuckyDice:null,gameHubTrading:null,hubObj:null,hubObjLuckyDice:null,hubObjTrading:null,isConnectedChat:!1,isHubStarted:!1,token:null,pageCount:0,zIndex:50,isOpen:!1,hubsLuckyDice:null,hubsTrading:null,initGame:function(t,e){t&&(this.betType=t),e&&(this.roomType=e),this.setParam(),this.setUrl(),this.setHeader(),this.initHub()},setUrl:function(){var t=o.util.getSessionStorage("MiniGameServer");!t&&Config.MiniGame.listServer&&Config.MiniGame.listServer.length>0&&(t=Config.MiniGame.listServer[o.util.RandomFrom(0,Config.MiniGame.listServer.length-1)],o.util.setSessionStorage("MiniGameServer",t)),this.hubs=t,this.apiUrl=Config.MiniGame.miniApiUrl||t+"/"},setParam:function(){this.token=o.util.getSessionStorage("GLOBAL_ACCESSTOKEN"),this.currencyId=parseInt(o.util.getSessionStorage("GLOBAL_CURRENCY"))},setHeader:function(t){var e=this;$.ajaxSetup({beforeSend:function(t,n){null!=n.url.toLowerCase().match(/api\//i)&&e.token&&t.setRequestHeader("Authorization","Bearer "+e.token)}})},initHub:function(){var t=this;this.gameHub||(this.gameHub=(new i.HubConnectionBuilder).withUrl(this.hubs+this.hubName,{accessTokenFactory:function(){return t.token},skipNegotiation:!0,transport:i.HttpTransportType.WebSockets}).configureLogging(i.LogLevel.Information).build(),this.gameHub.serverTimeoutInMilliseconds=1e5,this.gameHub.onclose((function(){t.isHubStarted&&t.startHub()}))),this.hubObj||(this.hubObj=new a.MiniGameHub(this.gameHub)),this.startHub((function(){return t.bindInterface()}))},stopHub:function(){try{this.isHubStarted=!1,2!=this.gameHub.connection.connectionState&&this.gameHub.stop()}catch(t){}},startHub:function(t){var e=this,n=this;try{1!=this.gameHub.connection.connectionState?this.gameHub.start().then((function(n){e.hubObj.Listen(),e.isHubStarted=!0,$(".minigame-expand .game a").removeClass("disabled"),"function"==typeof t&&t.call()})).catch((function(i){$(".minigame-expand .game a").addClass("disabled"),$(".minigame-expand .game a").eq(0).removeClass("disabled"),e.isPlaying&&setTimeout((function(){n.startHub(t)}),1e4)})):t.call()}catch(t){}},bindInterface:function(){if(this.isHubStarted){if($("#minigame").length<=0){var t='<div id="minigame"></div>';$("#root").length>0?$("#root").parent().append(t):$("body").append(t)}$("#minigame").show(),$.each(Config.MiniGame.listGame,(function(t,e){try{void 0!==window[e]?window[e].init():window[e]=new window[Config.MiniGame.listGameLibrary[t]].game}catch(t){}}))}},checkAutoShowGame:function(t){return $.inArray(t,Config.MiniGame.alwayShowGame)>-1||$.inArray(t,Config.MiniGame.autoShowGame)>-1},showFromVq:function(t){if(0==$("#"+t).length||"none"==$("#"+t).css("display"))try{window[t].showGui()}catch(t){}},showhide:function(t,e){var n;if(void 0!==window[t]){if(void 0===e&&(e=t),0==$("#"+e).length||"none"==$("#"+e).css("display")){try{window[t].showGui()}catch(t){}n="Show"}else{try{window[t].hideGui()}catch(t){}n="Hide"}t&&n&&"function"==typeof ga&&ga("send","event","Minigame",t,n)}},showPopup:function(t){if($("#popup-minigame").length<=0){$("#minigame").append('<div id="popup-minigame"></div>')}$("#popup-minigame").html('<div class="spinner""><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div><div class="bounce4"></div><div class="bounce5"></div></div>'),$("#popup-minigame").slideDown(),$("#popup-minigame").addClass("active"),$("#popup-minigame").css("z-index",1e3)},bindPopupContent:function(t,e){1==this.roomType&&(t=1==this.betType?(t=(t=t.replace(/(và |hoặc |\/ |\/)xu/gi,"")).replace(/( XU )/gi," Gold ")).replace(/(\(5%\))/gi,""):(t=(t=t.replace(/gold( và | hoặc| \/|\/)/gi,"")).replace(/( Gold | Gold.| Gold,)/gi," XU ")).replace(/(2%)/gi,"")),$("#popup-minigame").html(t);var n="#scrollidxx";void 0!==e&&e.scrollId&&(n=e.scrollId),$(n).length>0&&"function"==typeof $(n).slimScroll&&(void 0===e&&(e={height:"340px"}),$.extend(e,{color:"#c00"}),$(n).slimScroll(e)),1==this.roomType&&(1==this.betType?$("#t2rank, #t2").hide():$("#t1rank, #t1").hide())},closePopupParent:function(){$("#popup-minigame").hide()},setActiveTab:function(t){1==t?($("#t2Detail, #t2History, #t2rank, #t2Money").removeClass("active"),$("#t1Detail, #t1History, #t1rank, #t1Money").addClass("active"),$(".popup-guide").removeClass("popup-coin"),$(".popup-guide").addClass("popup-gold")):($("#t1Detail, #t1History, #t1rank, #t1Money").removeClass("active"),$("#t2Detail, #t2History, #t2rank, #t2Money").addClass("active"),$(".popup-guide").removeClass("popup-gold"),$(".popup-guide").addClass("popup-coin"))},disGame:function(){this.isPlaying=!1,$.each(Config.MiniGame.listGame,(function(t,e){try{void 0!==window[e]&&("function"==typeof window[e].hideGui&&window[e].hideGui(),"function"==typeof window[e].disGame&&window[e].disGame())}catch(t){}})),this.stopHub(),gameLuckyDice.stopHub(),sessionStorage.removeItem("MiniGameServer"),sessionStorage.removeItem("MiniGameLuckyDiceServer")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.jack={open:function(t,e,n,i){if(!(n.length<15)){var o='<div class="popup popup-guide show" id="popupJackDetail"><span class="button button-close" onClick="libs.jack.close()"></span>';o+='<div class="title"><span>'+Message.GetMessage("hi07")+" "+Message.GetMessage("sl63")+'</span><br /><span style="color: yellow">#'+i+"</div>",o+='<div class="popup-body">';var a="",r=$.map(n.split(","),(function(t){return parseInt(t,10)}));switch(t){case 203:a="st";break;case 201:a="vq";break;case 205:a="dc";break;case 207:a="oc";break;case 213:a="ft";break;case 211:a="fs"}for(var s="<div class='"+a+"'><ul>",u=0;u<r.length;u++)s+=201!==t&&207!==t?"<li class='i"+r[u]+"'></li>":"<li class='room-"+e+"-item-"+r[u]+"'></li>";o+=(s+="</ul></div>")+"</div><div>",$("#popupJackpot").append(o)}},oSkill:function(t,e,n){var o='<div class="popup popup-guide show" id="popupJackDetail"><span class="button button-close" onClick="libs.jack.close()"></span>';o+='<div class="title"><span>'+Message.GetMessage("hi07")+" "+Message.GetMessage("sl63")+'</span><br /><span style="color: yellow">#'+e+"</div>",o+='<div class="popup-body">';var a="";switch(t){case 603:a="drg";break;case 601:a="fht";break;case 605:a="shk";break;case 607:a="ste";break;case 609:a="sqr"}var r="<div class='"+a+" "+a+"-"+i.util.RandomFrom(1,5)+"'><div class='t-jp'></div>";609==t&&(r+="<div class='m-ljp'></div>"),r+="<div class='m-jp'>"+i.util.ParseMoney(n)+"</div>",o+=(r+="</div>")+"</div><div>",$("#popupJackpot").append(o)},close:function(){$("#popupJackDetail").remove()}}}])}));